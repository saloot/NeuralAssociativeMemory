function G = erdos_reny(m,n,p)

%-------------------------Vectorized Version-------------------------------
G = (rand(m,n)<p);
%--------------------------------------------------------------------------

if m==n
    for i = 1:min(m,n)
        G(i,i) = 0;
    end
end